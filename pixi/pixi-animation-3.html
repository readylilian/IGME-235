<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Pixi Animation 3</title>
	<script src="https://pixijs.download/release/pixi.min.js"></script>
	<script src="js/classes.js"></script>
</head>
<body>
<script>
const app = new PIXI.Application(
    {
	width: 600,
	height: 400
    }
);
document.body.appendChild(app.view); 
/*
let c1 = new Circle()
c1.x = 100;
c1.y = 100;

let c2 = new Circle(50,0xFF00FF,200,200)

app.stage.addChild(c1);
app.stage.addChild(c2);
*/
const screenWidth = app.view.width;
const screenHeight = app.view.height;
const circles = [];

// #3 - get this app started!
createCircles();

// #2 - make some circles
function createCircles(){
	// red circles
	for(let i=0;i<50;i++){
		let c = new Circle()
		c.x = Math.random() * (screenWidth - 100) + 50;
		c.y = Math.random() * (screenHeight - 100) + 50;
		circles.push(c);
		app.stage.addChild(c);
	}
	
	// yellow circles
	for(let i=0;i<100;i++){	
		let c = new Circle(10,0xFFFF00);
		c.x = Math.random() * (screenWidth - 100) + 50;
		c.y = Math.random() * (screenHeight - 100) + 50;
		app.stage.addChild(c);
		circles.push(c);
	}
}


// http://pixijs.download/release/docs/PIXI.ticker.Ticker.html
// provide a function that will be called 60 FPS
app.ticker.add(()=>
{
	for (let c of circles){
		c.move();
		if (c.x <= c.radius || c.x >= screenWidth-c.radius){
			c.reflectX();
			c.move();
		}
		if (c.y <= c.radius || c.y >= screenHeight-c.radius){
			c.reflectY();
			c.move();
		}
	
	}
	
});
</script>
</body>
</html>